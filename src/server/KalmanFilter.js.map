{"version":3,"sources":["KalmanFilter.es6"],"names":["KalmanFilter","pest","cest","mea","kg","eest","emea","m"],"mappings":";;;;;;;;;;IAAMA,Y;AAEF,0BAAYC,IAAZ,EAAiB;AAAA;;AACb,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKD,IAAL,GAAYA,IAAZ;AACA,aAAKE,GAAL,GAAW,CAAX;AACA,aAAKC,EAAL,GAAU,CAAV;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,IAAL,GAAY,CAAZ;AACH;;;;kCAESC,C,EAAE;AACR,gBAAGA,MAAM,CAAT,EAAY;AACZ,iBAAKJ,GAAL,GAAWI,CAAX;AACA,iBAAKH,EAAL,GAAU,KAAKC,IAAL,IAAa,KAAKA,IAAL,GAAY,KAAKC,IAA9B,CAAV;AACA,iBAAKJ,IAAL,GAAY,KAAKD,IAAL,GAAY,KAAKG,EAAL,IAAW,KAAKD,GAAL,GAAW,KAAKF,IAA3B,CAAxB;AACA,iBAAKA,IAAL,GAAY,KAAKC,IAAjB;AACA,iBAAKG,IAAL,GAAa,KAAKC,IAAL,GAAY,KAAKD,IAAlB,IAA2B,KAAKC,IAAL,GAAY,KAAKD,IAA5C,CAAZ;AACA,mBAAO,KAAKH,IAAZ;AACH;;;sCAEY;AACT,mBAAO,KAAKA,IAAZ;AACH;;;;;;kBAIUF,Y","file":"KalmanFilter.js","sourcesContent":["class KalmanFilter {\n\n    constructor(pest){\n        this.cest = 0;\n        this.pest = pest;\n        this.mea = 0;\n        this.kg = 0;\n        this.eest = 1;\n        this.emea = 1;\n    }\n\n    addSample(m){\n        if(m === 0) return;\n        this.mea = m;\n        this.kg = this.eest / (this.eest + this.emea);\n        this.cest = this.pest + this.kg * (this.mea - this.pest);\n        this.pest = this.cest;\n        this.eest = (this.emea * this.eest) / (this.emea + this.eest);\n        return this.cest;\n    }\n\n    getEstimate(){\n        return this.cest;\n    }\n\n}\n\nexport default KalmanFilter;"]}